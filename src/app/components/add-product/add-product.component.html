<h1>{{newProduct|json}}</h1>
<form (submit)="addNewProduct()" #addProdForm="ngForm">
  <div class="mb-3">
    <label for="formGroupExampleInput" class="form-label">Name:</label>
    <input type="text" [(ngModel)] = "newProduct.name"
    name="name"
    #prodName = "ngModel"
    required
    pattern="[a-zA-Z]{3,15}$"
    class="form-control" id="formGroupExampleInput" aria-describedby="emailHelp" />
    @if(prodName.invalid && prodName.touched) {
      <div class="text-danger">
        @if(prodName.errors?.['required']) {
          <p>Name is required</p>

        }
        @if(prodName.errors?.['pattern']) {
          <p>Name must be at least 3 characters</p>
        }
      </div>

    }

  </div>
  <div class="mb-3">
    <label for="formGroupExampleInput2" class="form-label">Price:</label>
    <input type="number" [(ngModel)] = "newProduct.price"
    name="price" class="form-control" id="formGroupExampleInput2" placeholder="Another input placeholder" />
  </div>
  <div class="mb-3">
    <label for="formGroupExampleInput3" class="form-label">Quantity:</label>
    <input type="number" [(ngModel)] = "newProduct.quantity"
    name="quantity"class="form-control" id="formGroupExampleInput3" placeholder="Another input placeholder" />
  </div>
  <div class="mb-3">
    <label for="formGroupExampleInput4" class="form-label">Image:</label>
    <input type="file" [(ngModel)] = "newProduct.imgUrl"
    name="imgUrl"class="form-control" id="formGroupExampleInput4" placeholder="Another input placeholder" />
  </div>

  <div class="mb-3">
    <label for="" class="form-label">Category</label>
    <select class="form-select from-select-lg" name="catId" id="" [(ngModel)] = "newProduct.catId">
      @for (cat of categories; track cat.id) {
      <option [value]="cat.id">{{cat.name}}</option>
      }

    </select>

  </div>

  <button type="submit" [disabled]="addProdForm.invalid" class="btn btn-primary">Submit</button>


</form>
